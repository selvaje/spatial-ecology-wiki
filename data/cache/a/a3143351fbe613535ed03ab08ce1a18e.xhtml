
<h1 class="sectionedit1" id="gis_toolbox_for_site_design_and_permaculture">GIS toolbox for site design and Permaculture</h1>
<div class="level1">

<p>
Besides Hydrological modelling and the Keylines - Lanscape terrain features there are other usefull GIS functionalities we can use in permaculture.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;GIS toolbox for site design and Permaculture&quot;,&quot;hid&quot;:&quot;gis_toolbox_for_site_design_and_permaculture&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-207&quot;} -->
<h2 class="sectionedit2" id="planting_pattern">Planting pattern</h2>
<div class="level2">

<p>
While dealing with new plantations, we can use GIS to define a regular grid with defied plant distances for then going in the field and plant. 
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Planting pattern&quot;,&quot;hid&quot;:&quot;planting_pattern&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;208-381&quot;} -->
<h3 class="sectionedit3" id="regular_grid_on_a_surface">Regular grid on a surface</h3>
<div class="level3">

<p>
How to create a regular grid of predefined spacing between points within a defined area :
</p>
<ul>
<li class="level1"><div class="li"> Define the area for the new plantation <em><strong>Qgis</strong> → Layer  → Create layer → new shape fiule</em></div>
</li>
<li class="level1"><div class="li"> Create a regular grid <em><strong>Qgis</strong> → Vector → Regular points function</em></div>
</li>
<li class="level1"><div class="li"> Select points within the new plantation area <em><strong>Qgis</strong> → Vector → Geoprocessing → Clip</em></div>
</li>
</ul>

<p>
<a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:dedicated_area.png" class="media" title="sitedesign:dedicated_area.png"><img src="/dokuwiki/lib/exe/fetch.php?w=200&amp;tok=e37997&amp;media=sitedesign:dedicated_area.png" class="media" alt="" width="200" /></a><a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:regular_grid_6m.png" class="media" title="sitedesign:regular_grid_6m.png"><img src="/dokuwiki/lib/exe/fetch.php?w=200&amp;tok=1d90ee&amp;media=sitedesign:regular_grid_6m.png" class="media" alt="" width="200" /></a><a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:selection.png" class="media" title="sitedesign:selection.png"><img src="/dokuwiki/lib/exe/fetch.php?w=200&amp;tok=73c041&amp;media=sitedesign:selection.png" class="media" alt="" width="200" /></a><a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:final.png" class="media" title="sitedesign:final.png"><img src="/dokuwiki/lib/exe/fetch.php?w=200&amp;tok=166056&amp;media=sitedesign:final.png" class="media" alt="" width="200" /></a>
<br/>

In the example above, we have selected an area of ~ 0.7 ha, and a planting pattern of 6m distance between plants.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Regular grid on a surface&quot;,&quot;hid&quot;:&quot;regular_grid_on_a_surface&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;382-1053&quot;} -->
<h3 class="sectionedit4" id="hedges">Hedges</h3>
<div class="level3">

<p>
How to define an equal spacement between points along a hedge line:
</p>
<ul>
<li class="level1"><div class="li"> Define the hedge line for the new plantation <em>Qgis → Layer  → Create layer → new shape (file use line)</em></div>
</li>
<li class="level1"><div class="li"> Import the line in GRASS using</div>
</li>
<li class="level1"><div class="li"> Use <a href="http://grass.osgeo.org/grass64/manuals/v.to.points.html" class="urlextern" target="blanc" title="http://grass.osgeo.org/grass64/manuals/v.to.points.html" rel="nofollow noopener">v.to.points</a> GRASS function to define points within the hedge line<br/>
</div>
</li>
</ul>

<p>
<a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:line1.png" class="media" title="sitedesign:line1.png"><img src="/dokuwiki/lib/exe/fetch.php?w=200&amp;tok=c80aba&amp;media=sitedesign:line1.png" class="media" alt="" width="200" /></a><a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:line2.png" class="media" title="sitedesign:line2.png"><img src="/dokuwiki/lib/exe/fetch.php?w=200&amp;tok=1d2a0e&amp;media=sitedesign:line2.png" class="media" alt="" width="200" /></a><a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:line3.png" class="media" title="sitedesign:line3.png"><img src="/dokuwiki/lib/exe/fetch.php?w=200&amp;tok=716d79&amp;media=sitedesign:line3.png" class="media" alt="" width="200" /></a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Hedges&quot;,&quot;hid&quot;:&quot;hedges&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;1054-1518&quot;} -->
<h2 class="sectionedit5" id="pond">Pond</h2>
<div class="level2">

<p>
Different GIS functions could be very useful in desining ponds.
</p>

</div>

<h4 id="water_accumulation_estimates">Water accumulation estimates</h4>
<div class="level4">

<p>
We have already created a water accumulation layer. Browsing this layer we can query pixels values to select an appropriate location to built a pond. For instance within flat areas we can define a high water accumulation zone. There we can define the extents and draw a sub-basin map of a water basin catchment flowing to a determined location within our site.
</p>
<ul>
<li class="level1"><div class="li"> Define the point of interest querying geographical coordinates from the accumulation map</div>
</li>
<li class="level1"><div class="li"> Use r.waters.outlet to create a catchment bassin above the point of interest</div>
</li>
<li class="level1"><div class="li"> Overlap the output basin with DEM and river styreams network</div>
</li>
</ul>

<p>
The <strong>r.water.outlet</strong> GRASS gis function settings. We use as input the bassin drain raster map previously created using r.watershed algorithm and N-E geographical coordinates.  <br/>

<a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:rwateroutlet.png" class="media" title="sitedesign:rwateroutlet.png"><img src="/dokuwiki/lib/exe/fetch.php?w=400&amp;tok=cc6d83&amp;media=sitedesign:rwateroutlet.png" class="media" alt="" width="400" /></a>
<br/>

<a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:pond1.png" class="media" title="sitedesign:pond1.png"><img src="/dokuwiki/lib/exe/fetch.php?w=150&amp;tok=63921b&amp;media=sitedesign:pond1.png" class="media" alt="" width="150" /></a><a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:pond2.png" class="media" title="sitedesign:pond2.png"><img src="/dokuwiki/lib/exe/fetch.php?w=150&amp;tok=5b68e5&amp;media=sitedesign:pond2.png" class="media" alt="" width="150" /></a><a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:pond3.png" class="media" title="sitedesign:pond3.png"><img src="/dokuwiki/lib/exe/fetch.php?w=150&amp;tok=0a3730&amp;media=sitedesign:pond3.png" class="media" alt="" width="150" /></a><a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:pond4.png" class="media" title="sitedesign:pond4.png"><img src="/dokuwiki/lib/exe/fetch.php?w=150&amp;tok=460152&amp;media=sitedesign:pond4.png" class="media" alt="" width="150" /></a><br/>

From pond site location to water basin definition in GIS. The selected point is connected to a river stream network covering a water basin of 12075 cells of 1mx1m.Knowing the extreme daily rainfall we can project a pond with defined water capacity to store and mitigate flush flooding events.<br/>

The following formula give an estimates of the amount of water flowing to a specific location from the upward basin catchment : <strong> 100 x rainfall (mm) x catchment surface (ha) x Soil runoff coefficient</strong>
</p>
<div class="plugin_note noteimportant">We have quantified the <em>catchment surface (ha)</em> using the r.water.outlet function; mm rain and soil coefficient parameters needs to be defined using climatic records and bibliographic references.

</div>
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Pond&quot;,&quot;hid&quot;:&quot;pond&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;1519-3308&quot;} -->
<h2 class="sectionedit6" id="solar_irradiation">Solar irradiation</h2>
<div class="level2">

</div>

<h4 id="sun_rise_sunset_and_sun_position">Sun rise,sunset and sun position</h4>
<div class="level4">

<p>
<a href="http://www.sunearthtools.com/en/solar/sunrise-sunset-calendar.php" class="urlextern" target="blanc" title="http://www.sunearthtools.com/en/solar/sunrise-sunset-calendar.php" rel="nofollow noopener"> Sun rise sunset calendar</a> Web Processing Service Calendar of sunrise / sunset noon daylight of the sun at any location on the planet for an entire year. The outcomes shows the time and azimuth in degrees.<br/>

Sun position at the Summer solstice<br/>

<a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:sun_position.png" class="media" title="sitedesign:sun_position.png"><img src="/dokuwiki/lib/exe/fetch.php?w=800&amp;tok=88d1c5&amp;media=sitedesign:sun_position.png" class="media" alt="" width="800" /></a><br/>

<a href="/dokuwiki/lib/exe/fetch.php?media=sitedesign:annualsunrisesunset_2015_39.865227_-94.375199_1437307374400.ods" class="media mediafile mf_ods" title="sitedesign:annualsunrisesunset_2015_39.865227_-94.375199_1437307374400.ods (33.5 KB)">Download</a> the Yearly CALENDAR for sunset - sunrise, noon time and sun Azimuth
</p>

</div>

<h4 id="topographic_shadowing">Topographic shadowing</h4>
<div class="level4">

<p>
<a href="https://docs.qgis.org/2.2/en/docs/training_manual/rasters/terrain_analysis.html" class="urlextern" target="blanc" title="https://docs.qgis.org/2.2/en/docs/training_manual/rasters/terrain_analysis.html" rel="nofollow noopener">Hillshade</a> module in Qgis: This calculates the amount of sun or shade for a 3D surface. The dialogue box include options for the sun angle and <strong>Hillshade</strong> uses a fixed location of the sun to accurately simulate the effects of bare hillside and shaded valleys.<br/>

</p>

</div>

<h4 id="solar_irradiance_and_irradiation">Solar irradiance and irradiation</h4>
<div class="level4">

<p>
<a href="https://en.wikipedia.org/wiki/R.sun" class="urlextern" target="blanc" title="https://en.wikipedia.org/wiki/R.sun" rel="nofollow noopener">r.sun function</a> in GRASS gis for Solar irradiance and irradiation model.<br/>

This advanced module computes direct (beam), diffuse and reflected solar irradiation raster maps for given :<br/>

</p>
<ul>
<li class="level1"><div class="li"> day </div>
</li>
<li class="level1"><div class="li"> latitude</div>
</li>
<li class="level1"><div class="li"> surface topography</div>
</li>
<li class="level1"><div class="li"> atmospheric conditions. </div>
</li>
</ul>

<p>
Solar parameters (e.g. sunrise, sunset times, declination, extraterrestrial irradiance, daylight length) are saved in the map history file. Alternatively, a local time can be specified to compute solar incidence angle and/or irradiance raster maps. The shadowing effect of the topography is optionally incorporated.<br/>

<a href="http://grass.osgeo.org/grass64/manuals/r.sun.html" class="urlextern" target="blanc" title="http://grass.osgeo.org/grass64/manuals/r.sun.html" rel="nofollow noopener">More info and manual</a>.<br/>

Example applications:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://re.jrc.ec.europa.eu/pvgis/" class="urlextern" target="blanc" title="http://re.jrc.ec.europa.eu/pvgis/" rel="nofollow noopener">  Photovoltaic - The European solar radiation atlas</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.sciencedirect.com/science/article/pii/S0378112709007257" class="urlextern" target="blanc" title="http://www.sciencedirect.com/science/article/pii/S0378112709007257" rel="nofollow noopener">Potential Evapotranspiration for Tree Species distribution modelling</a></div>
</li>
</ul>

<p>
Calculation of the integrated daily irradiation for the study site, for the summer solstice, at 1m resolution. Here day 172 (i.e., 21 June in non-leap years): 
</p>
<pre class="code">    r.sun -s dem.farm lin=2.5 alb=0.2 day=172 \\
    beam_rad=b172 diff_rad=d172 \\
    refl_rad=r172 insol_time=it172</pre>

<p>
Daily irradiation map for the summer solstice:<br/>

<a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:daily_irradiation.png" class="media" title="sitedesign:daily_irradiation.png"><img src="/dokuwiki/lib/exe/fetch.php?media=sitedesign:daily_irradiation.png" class="mediacenter" alt="" /></a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Solar irradiation&quot;,&quot;hid&quot;:&quot;solar_irradiation&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;3309-5644&quot;} -->
<h2 class="sectionedit7" id="terrain_profile">Terrain Profile</h2>
<div class="level2">

<p>
The Qgis plogin <a href="https://plugins.qgis.org/plugins/profiletool/" class="urlextern" target="blanc" title="https://plugins.qgis.org/plugins/profiletool/" rel="nofollow noopener">profile</a> is able to generate elevation profiles along line features on a Digital Elevation Model. A simple <a href="http://anitagraser.com/2013/12/27/profile-tool-tutorial/" class="urlextern" target="blanc" title="http://anitagraser.com/2013/12/27/profile-tool-tutorial/" rel="nofollow noopener"> tutorial</a>.<br/>

Example of a Profile line on the study site:<br/>

<a href="/dokuwiki/lib/exe/detail.php?id=sitedesign%3Asite_toolbox&amp;media=sitedesign:profile.png" class="media" title="sitedesign:profile.png"><img src="/dokuwiki/lib/exe/fetch.php?w=600&amp;tok=8e6230&amp;media=sitedesign:profile.png" class="mediaright" alt="" width="600" /></a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Terrain Profile&quot;,&quot;hid&quot;:&quot;terrain_profile&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;5645-&quot;} -->