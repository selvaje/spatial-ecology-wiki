
<h1 class="sectionedit1" id="remotely_sensed_vegetation_productivitynormalized_difference_vegetation_index_ndvi">Remotely Sensed Vegetation Productivity: Normalized Difference Vegetation Index (NDVI)</h1>
<div class="level1">

</div>
<!-- EDIT1 SECTION "Remotely Sensed Vegetation Productivity: Normalized Difference Vegetation Index (NDVI)" [1-103] -->
<h2 class="sectionedit2" id="create_a_working_directory_of_your_choice">1. Create a working directory of your choice</h2>
<div class="level2">
<pre class="code"> mkdir /home/user/ost4sem/exercise/Alaska_NDVI</pre>

</div>
<!-- EDIT2 SECTION "1. Create a working directory of your choice" [104-212] -->
<h2 class="sectionedit3" id="setting_the_working_directory_download_landsat_imagery">2. Setting the working directory &amp; download landsat imagery</h2>
<div class="level2">
<pre class="code"> cd /home/user/ost4sem/exercise/Alaska_NDVI
 wget http://e4ftl01.cr.usgs.gov/WELD/WELDAKSE.001/2007.06.01/Alaska.summer.2007.h06v02.doy153to242.v1.5.hdf
 wget http://e4ftl01.cr.usgs.gov/WELD/WELDAKSE.001/2008.06.01/Alaska.summer.2008.h06v02.doy153to242.v1.5.hdf</pre>

</div>
<!-- EDIT3 SECTION "2. Setting the working directory & download landsat imagery" [213-559] -->
<h2 class="sectionedit4" id="convert_the_hdf_files_to_individual_bands_tif">3. Convert the .hdf files to individual bands  .tif</h2>
<div class="level2">
<pre class="code"> for file in `gdalinfo Alaska.summer.2007.h06v02.doy153to242.v1.5.hdf | grep NAME | awk -F &quot;=&quot; &#039;{print $2}&#039;` ; do
    gdal_translate $file   ${file:77}&quot;_2007&quot;.tif
 done
 for file in `gdalinfo Alaska.summer.2008.h06v02.doy153to242.v1.5.hdf | grep NAME | awk -F &quot;=&quot; &#039;{print $2}&#039;` ; do
    gdal_translate $file   ${file:77}&quot;_2008&quot;.tif
 done</pre>

</div>
<!-- EDIT4 SECTION "3. Convert the .hdf files to individual bands  .tif" [560-975] -->
<h2 class="sectionedit5" id="create_a_2007_and_2008_summer_landsat_composite">4. Create a 2007 and 2008 summer landsat composite</h2>
<div class="level2">
<pre class="code"> gdal_merge.py -separate  -o SUMMER_TOA_2007.tif   Band1_TOA_REF_2007.tif Band2_TOA_REF_2007.tif Band3_TOA_REF_2007.tif Band4_TOA_REF_2007.tif 
 gdal_merge.py -separate  -o SUMMER_TOA_2008.tif   Band1_TOA_REF_2008.tif Band2_TOA_REF_2008.tif Band3_TOA_REF_2008.tif Band4_TOA_REF_2008.tif </pre>

</div>
<!-- EDIT5 SECTION "4. Create a 2007 and 2008 summer landsat composite" [976-1333] -->
<h2 class="sectionedit6" id="mask_out_cloud_pixels">5. Mask out cloud pixels</h2>
<div class="level2">
<pre class="code"> pksetmask -i SUMMER_TOA_2007.tif -m ACCA_State_2007.tif --operator &#039;=&#039; --msknodata 1 --nodata -32768 -o SUMMER_TOA_2007_mask.tif
 pksetmask -i SUMMER_TOA_2008.tif -m ACCA_State_2008.tif --operator &#039;=&#039; --msknodata 1 --nodata -32768 -o SUMMER_TOA_2008_mask.tif</pre>

</div>
<!-- EDIT6 SECTION "5. Mask out cloud pixels" [1334-1637] -->
<h2 class="sectionedit7" id="crop_composite_images_to_region_of_interest">6. Crop composite images to region of interest</h2>
<div class="level2">
<pre class="code"> gdal_translate -projwin 100735 2170503 175864 2098452 SUMMER_TOA_2007_mask.tif SUMMER_TOA_2007_mask_crop.tif
 gdal_translate -projwin 100735 2170503 175864 2098452 SUMMER_TOA_2008_mask.tif SUMMER_TOA_2008_mask_crop.tif</pre>

</div>
<!-- EDIT7 SECTION "6. Crop composite images to region of interest" [1638-1922] -->
<h2 class="sectionedit8" id="create_2007_and_2008_ndvi">7. Create 2007 and 2008 NDVI</h2>
<div class="level2">
<pre class="code"> gdal_calc.py -A SUMMER_TOA_2007_mask_crop.tif --A_band=4 -B SUMMER_TOA_2007_mask_crop.tif --B_band=3 --outfile=NDVI_2007.tif --type=&#039;Float32&#039; --calc=&quot;(A.astype(float)-B)/(A.astype(float)+B)&quot; --overwrite   
 gdal_calc.py -A SUMMER_TOA_2008_mask_crop.tif --A_band=4 -B SUMMER_TOA_2008_mask_crop.tif --B_band=3 --outfile=NDVI_2008.tif --type=&#039;Float32&#039; --calc=&quot;(A.astype(float)-B)/(A.astype(float)+B)&quot; --overwrite  </pre>

</div>
<!-- EDIT8 SECTION "7. Create 2007 and 2008 NDVI" [1923-2382] -->
<h2 class="sectionedit9" id="create_a_ndvi_differnce_image">8. Create a NDVI differnce image</h2>
<div class="level2">
<pre class="code"> gdal_calc.py -A NDVI_2007.tif -B NDVI_2008.tif --outfile=NDVI_2007to2008_difference.tif --type=&#039;Float32&#039;  --calc=&quot;(B-A)&quot; --overwrite  </pre>

</div>
<!-- EDIT9 SECTION "8. Create a NDVI differnce image" [2383-] -->