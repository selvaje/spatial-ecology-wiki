
<h1 class="sectionedit1" id="geovisual_analysis_of_synchronization_in_weather_data--_temperature_in_the_netherlands_as_case_study">Geovisual Analysis of Synchronization in Weather Data-- temperature in the Netherlands as case study</h1>
<div class="level1">

<p>
Xiaojing Wu, Geo-information Processing Dept., University of Twente
</p>

</div>
<!-- EDIT1 SECTION "Geovisual Analysis of Synchronization in Weather Data-- temperature in the Netherlands as case study" [1-185] -->
<h2 class="sectionedit2" id="introduction">INTRODUCTION</h2>
<div class="level2">

<p>
Long and consistent time series of weather data are available in most countries. This data is fundamental to quantify climate change as well as to study a wide range of environmental processes. Thus, discovering and analyzing spatio-temporal weather patterns is essential for understanding the Earth system. One particularly interesting pattern is synchronization, which refers to the degree of temporal similarity between two or more time series(Hudson et al. 2011). The identification of weather synchronous regions or years helps to understand the impact of climate change on living organisms. For instance, years with synchronous temperature patterns present synchronous phenological development.<br/>

</p>

</div>
<!-- EDIT2 SECTION "INTRODUCTION" [186-914] -->
<h2 class="sectionedit3" id="project_objectives">Project objectives</h2>
<div class="level2">

<p>
Import the synchronization results of SOM clustering and shp file of NL map into R; 
Render different colours to stations belonging to different clusters at daily, weekly and monthly resolutions.
</p>

</div>
<!-- EDIT3 SECTION "Project objectives" [915-1143] -->
<h2 class="sectionedit4" id="vector_data">Vector Data</h2>
<div class="level2">

<p>
Dutch daily temperature data collected at 28 meteorological stations for 20 years (1st January 1992 to 31st December 2011). This data was downloaded freely from the website of the Royal National Meteorological Institute (known by its Dutch acronym, the KNMI).
</p>

<p>
Geograhical map of the Netherlands (Map 1) for visualize synchronization results is to use the Thiessen polygon map generated around stations to show the spatial distribution of the stations and to define the area influenced by each station. 
</p>
<pre class="code">    * Map 1. Geographical Map of the Nethlerands</pre>

<p>
<a href="/dokuwiki/lib/exe/detail.php?id=wikistudholland%3Autwente_xiaojing&amp;media=wikistudholland:geomap_nl.png" class="media" title="wikistudholland:geomap_nl.png"><img src="/dokuwiki/lib/exe/fetch.php?w=1200&amp;tok=f87b2b&amp;media=wikistudholland:geomap_nl.png" class="media" alt="" width="1200" /></a>
</p>

</div>
<!-- EDIT4 SECTION "Vector Data" [1144-1770] -->
<h2 class="sectionedit5" id="color_data">Color Data</h2>
<div class="level2">

<p>
Colors used to render maps are from <a href="http://colorbrewer2.org/" class="urlextern" target="blanc" title="http://colorbrewer2.org/" rel="nofollow noopener">http://colorbrewer2.org/</a>
</p>

</div>
<!-- EDIT5 SECTION "Color Data" [1771-1857] -->
<h2 class="sectionedit6" id="method">Method</h2>
<div class="level2">

</div>

<h4 id="method1">Method</h4>
<div class="level4">

<p>
 Self-Organizing Maps(SOMs) <a href="http://en.wikipedia.org/wiki/Self-organizing_map" class="urlextern" target="blanc" title="http://en.wikipedia.org/wiki/Self-organizing_map" rel="nofollow noopener">http://en.wikipedia.org/wiki/Self-organizing_map</a>
</p>

</div>

<h4 id="work-flow">Work-flow</h4>
<div class="level4">
<pre class="code">Import synchronized stations of SOMs clustering at daily, weekly and monthly resolution into R;
Import the shapefile of geographical map in the Netherlands into R;
Import the colours needed for rendering into R;
Render the colours to the shapefile to indicate SOMs clustering results at different temporal resolutions. </pre>

</div>
<!-- EDIT6 SECTION "Method" [1858-2320] -->
<h2 class="sectionedit7" id="computational_implementation">Computational implementation</h2>
<div class="level2">
<dl class="code">
<dt><a href="/dokuwiki/doku.php?do=export_code&amp;id=wikistudholland:utwente_xiaojing&amp;codeblock=0" title="Download Snippet" class="mediafile mf_">- Project</a></dt>
<dd><pre class="code R"># my R code here
# personal project assignment
&nbsp;
library(rgdal)
library(maptools)
ogrInfo(&quot;/home/user/ost4sem/project/input/&quot;,&quot;polygons_NL&quot;)
#Source: &quot;/home/user/ost4sem/project/input/&quot;, layer: &quot;polygons_NL&quot;
#Driver: ESRI Shapefile number of rows 28 
#Feature type: wkbPolygon with 2 dimensions
#Extent: (3.360785 50.75517) - (7.29271 53.55458)
#LDID: 87 
#Number of fields: 11 
#name type length typeName
#1   OBJECTID    0      9  Integer
#2       FID_    0      9  Integer
#3  Longitude    2     19     Real
#4   Latitude    2     19     Real
#5    Number_    0      9  Integer
#6       Name    4    254   String
#7  Elevation    0      9  Integer
#8       stID    2     16     Real
#9   dayclust    2     16     Real
#10 weekclust    2     16     Real
#11  monclust    2     16     Real
#READ SHAPEFILE INTO STS_POLYGONS
sts_polygons &lt;- readShapePoly(&quot;/home/user/ost4sem/project/input/polygons_NL.shp&quot;)
as(sts_polygons,&quot;data.frame&quot;)[1:5,1:10]
#OBJECTID FID_ Longitude Latitude Number_           Name Elevation stID dayclust weekclust monclust
#0       21   21   3.90000 51.53333     323 Wilhelminadorp         2  323        4         3         3
#1       27   27   5.41667 51.45000     370      Eindhoven        20  370        3         2         3
#2       30   30   6.20000 51.50000     391          Arcen        19  391        3         2         2
#3       14   14   6.56667 52.75000     279      Hoogeveen        12  279        1         1         1
#4        7    7   5.35000 52.88333     267       Stavoren        -1  267        1         1         1
&nbsp;
#plot geographical map of the Netherlands and labels each polygon with its stationID and name
plot(sts_polygons,border=&quot;black&quot;)
text(coordinates(sts_polygons),labels=paste(sts_polygons$Number_, sts_polygons$Name, sep=&quot;\n&quot;),cex=0.6)
&nbsp;
#read in colors to render polygons belonging to different clusters
colors_4 = read.table(&quot;/home/user/ost4sem/project/input/colors_4.txt&quot;,header = F)
colors_3 = read.table(&quot;/home/user/ost4sem/project/input/colors_3.txt&quot;,header = F)
#Warning message:
#  In read.table(&quot;/home/user/ost4sem/project/input/colors_4.txt&quot;, header = F) :
#  incomplete final line found by readTableHeader on '/home/user/ost4sem/project/input/colors_4.txt'
&nbsp;
#firstly render the daily resolution results of somclustering
for (i in 1:4) {
   day_clust &lt;- sts_polygons[sts_polygons$dayclust==i,]
   plot(day_clust,border=&quot;black&quot;,col=rgb(colors_4[i,]),add=TRUE)
   rm(day_clust)
}
text(coordinates(sts_polygons),labels=paste(sts_polygons$Number_, sts_polygons$Name, sep=&quot;\n&quot;),cex=0.6)
&nbsp;
#then render the weekly resolution results of somclustering
for (i in 1:3) {
  day_clust &lt;- sts_polygons[sts_polygons$weekclust==i,]
  plot(day_clust,border=&quot;black&quot;,col=rgb(colors_3[i,]),add=TRUE)
  rm(day_clust)
}
text(coordinates(sts_polygons),labels=paste(sts_polygons$Number_, sts_polygons$Name, sep=&quot;\n&quot;),cex=0.6)
&nbsp;
#finally render the monthly resolution results of somclustering
for (i in 1:3) {
  day_clust &lt;- sts_polygons[sts_polygons$monclust==i,]
  plot(day_clust,border=&quot;black&quot;,col=rgb(colors_3[i,]),add=TRUE)
  rm(day_clust)
}
text(coordinates(sts_polygons),labels=paste(sts_polygons$Number_, sts_polygons$Name, sep=&quot;\n&quot;),cex=0.6)</pre>
</dd></dl>

</div>
<!-- EDIT7 SECTION "Computational implementation" [2321-5587] -->
<h2 class="sectionedit8" id="results_and_discussion">RESULTS and DISCUSSION</h2>
<div class="level2">

<p>
Synchronization results of SOMs clustering are displayed at daily (Map 2), weekly (Map 3) and monthly (Map 4) resolutions. There are 4 clusters of synchronous stations at daily resolution and 3 at both weekly and monthly. The reduction of the numbers is justified because of the loss in details when daily temperature data is aggregated to weekly and monthly data. 
</p>
<pre class="code">           * Map 2. Synchronization results at daily resolution</pre>

<p>
<a href="/dokuwiki/lib/exe/detail.php?id=wikistudholland%3Autwente_xiaojing&amp;media=wikistudholland:dailyresolution.png" class="media" title="wikistudholland:dailyresolution.png"><img src="/dokuwiki/lib/exe/fetch.php?w=1200&amp;tok=97b72a&amp;media=wikistudholland:dailyresolution.png" class="media" alt="" width="1200" /></a>
</p>
<pre class="code">           * Map 3. Synchronization results at weekly resolution</pre>

<p>
<a href="/dokuwiki/lib/exe/detail.php?id=wikistudholland%3Autwente_xiaojing&amp;media=wikistudholland:weeklyresolution.png" class="media" title="wikistudholland:weeklyresolution.png"><img src="/dokuwiki/lib/exe/fetch.php?w=1200&amp;tok=49438c&amp;media=wikistudholland:weeklyresolution.png" class="media" alt="" width="1200" /></a>
</p>
<pre class="code">           * Map 4. Synchronization results at monthly resolution</pre>

<p>
<a href="/dokuwiki/lib/exe/detail.php?id=wikistudholland%3Autwente_xiaojing&amp;media=wikistudholland:monthlyresolution.png" class="media" title="wikistudholland:monthlyresolution.png"><img src="/dokuwiki/lib/exe/fetch.php?w=1200&amp;tok=5df106&amp;media=wikistudholland:monthlyresolution.png" class="media" alt="" width="1200" /></a>
</p>

<p>
Therefore, different temporal resolutions indeed influence spatial synchronization results in weather data.
</p>

</div>
<!-- EDIT8 SECTION "RESULTS and DISCUSSION" [5588-] -->